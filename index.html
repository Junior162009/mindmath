<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MindMath</title>
<style>
body {
  background: #1E3C72;
  color: white;
  font-family: Arial;
  text-align: center;
  padding: 20px;
}
button {
    background: #4CAF50;
    color: white;
    padding: 15px;
    width: 80%;
    font-size: 20px;
    margin: 10px auto;
    border: none;
    border-radius: 10px;
    display: block;
}
input {
    font-size: 22px;
    padding: 10px;
    width: 60%;
    text-align: center;
}
h1 { font-size: 35px; }
.hidden { display: none; }
</style>
</head>
<body>

<h1>ğŸ® MindMath</h1>

<div id="menu">
  <button onclick="selectLevel('facil',90,5)">ğŸŒ± FÃ¡cil (90s)</button>
  <button onclick="selectLevel('intermedio',70,4)">ğŸš€ Intermedio (70s)</button>
  <button onclick="selectLevel('dificil',50,3)">ğŸ”¥ DifÃ­cil (50s)</button>
  <button onclick="selectLevel('extremo',30,2)">ğŸ’€ Extremo (30s)</button>
</div>

<div id="game" class="hidden">
  <h2 id="levelTxt"></h2>
  <p id="points">ğŸ† Puntos: 0</p>
  <p id="lives">â¤ï¸ Vidas: 3</p>
  <p id="time">â±ï¸ 60s</p>

  <h2 id="question"></h2>
  <input id="answer" placeholder="Tu respuesta" />
  <button onclick="check()">âœ… Enviar</button>
  <button style="background:#9E9E9E" onclick="restartMenu()">ğŸ  MenÃº</button>
</div>

<script>
let puntos=0, vidas=3, tiempo=60, respuestaCorrecta, timer, nivel="facil";

function selectLevel(niv,t,v){
  nivel=niv; puntos=0; vidas=v; tiempo=t;
  document.getElementById("menu").classList.add("hidden");
  document.getElementById("game").classList.remove("hidden");
  document.getElementById("levelTxt").innerText="Nivel: "+nivel;
  startGame();
}

function startGame(){
  generarPregunta();
  timer=setInterval(()=>{
    tiempo--;
    document.getElementById("time").innerText="â±ï¸ "+tiempo+"s";
    if(tiempo<=0) fin();
  },1000);
}

function generarPregunta(){
  let ops = (nivel=="dificil"||nivel=="extremo")?["+", "-", "Ã—", "Ã·", "âˆš"]:["+", "-", "Ã—"];
  let op = ops[Math.floor(Math.random()*ops.length)];
  let n1=Math.floor(Math.random()*20)+1, n2=Math.floor(Math.random()*20)+1;
  switch(op){
    case "+": respuestaCorrecta=n1+n2; break;
    case "-": respuestaCorrecta=n1-n2; break;
    case "Ã—": n1=Math.floor(Math.random()*10)+2; n2=Math.floor(Math.random()*10)+2; respuestaCorrecta=n1*n2; break;
    case "Ã·": n2=Math.floor(Math.random()*9)+2; let coc=Math.floor(Math.random()*9)+2; n1=n2*coc; respuestaCorrecta=coc; break;
    case "âˆš": n1=Math.floor(Math.random()*11)+2; respuestaCorrecta=n1; n2=n1*n1; op="âˆš"+n2; document.getElementById("question").innerText="âˆš"+n2; return;
  }
  document.getElementById("question").innerText = n1+" "+op+" "+n2;
}

function check(){
  let val=parseInt(document.getElementById("answer").value);
  document.getElementById("answer").value="";
  if(val==respuestaCorrecta){ puntos+=10; }
  else { vidas--; if(vidas<=0) return fin(); }
  document.getElementById("points").innerText="ğŸ† Puntos: "+puntos;
  document.getElementById("lives").innerText="â¤ï¸ Vidas: "+vidas;
  generarPregunta();
}

function fin(){
  clearInterval(timer);
  alert("ğŸ¯ Fin del juego\nPuntos: "+puntos);
  restartMenu();
}

function restartMenu(){
  clearInterval(timer);
  document.getElementById("menu").classList.remove("hidden");
  document.getElementById("game").classList.add("hidden");
}
</script>

</body>
</html>